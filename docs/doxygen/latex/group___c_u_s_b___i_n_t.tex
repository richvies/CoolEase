\hypertarget{group___c_u_s_b___i_n_t}{}\doxysection{Cusb Internal}
\label{group___c_u_s_b___i_n_t}\index{Cusb Internal@{Cusb Internal}}


Static Vars, Functions \& Internal Macros.  


\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{group___c_u_s_b___i_n_t_ga4a19877e4f43bf56e85b1e8bbd8b7be5}{H\+I\+D\+\_\+\+R\+E\+P\+O\+R\+T\+\_\+\+S\+I\+ZE}}~64U
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{group___c_u_s_b___i_n_t_gaa536a7f4d58c4e1734efcfb3b19c1be5}{usb\+\_\+state\+\_\+t}} \{ \mbox{\hyperlink{group___c_u_s_b___i_n_t_ggaa536a7f4d58c4e1734efcfb3b19c1be5a589b7d94a3d91d145720e2fed0eb3a05}{R\+E\+S\+ET}} = 0, 
\mbox{\hyperlink{group___c_u_s_b___i_n_t_ggaa536a7f4d58c4e1734efcfb3b19c1be5a7a691a2430ec26878897b5fbc9c22a4c}{C\+O\+N\+N\+E\+C\+T\+ED}}, 
\mbox{\hyperlink{group___c_u_s_b___i_n_t_ggaa536a7f4d58c4e1734efcfb3b19c1be5a00bd4a32df841a2ce24d2a8dbf83179c}{G\+E\+T\+\_\+\+L\+OG}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{group___c_u_s_b___i_n_t_gac63b9392f307996959131c5a4e047fa4}{cusb\+\_\+clock\+\_\+init}} (void)
\begin{DoxyCompactList}\small\item\em Setup C\+PU and peripheral clocks for usb. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{group___c_u_s_b___i_n_t_ga42e69e833b0c711393976debc4593906}{cusb\+\_\+reset\+\_\+callback}} (void)
\item 
static void \mbox{\hyperlink{group___c_u_s_b___i_n_t_gaa8a5a4bf8f2341314373f98f386d19ee}{hid\+\_\+set\+\_\+config}} (usbd\+\_\+device $\ast$dev, uint16\+\_\+t w\+Value)
\begin{DoxyCompactList}\small\item\em H\+ID configuration init callback. \end{DoxyCompactList}\item 
static enum usbd\+\_\+request\+\_\+return\+\_\+codes \mbox{\hyperlink{group___c_u_s_b___i_n_t_ga29b474a495e8084ca9f797e1fcf75eb8}{hid\+\_\+control\+\_\+request}} (usbd\+\_\+device $\ast$dev, struct usb\+\_\+setup\+\_\+data $\ast$req, uint8\+\_\+t $\ast$$\ast$buf, uint16\+\_\+t $\ast$len, void($\ast$$\ast$complete)(usbd\+\_\+device $\ast$, struct usb\+\_\+setup\+\_\+data $\ast$))
\begin{DoxyCompactList}\small\item\em H\+ID Control Callback. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{group___c_u_s_b___i_n_t_ga598f9456a1628aa62a04236cbe363341}{hid\+\_\+out\+\_\+report\+\_\+callback}} (usbd\+\_\+device $\ast$dev, uint8\+\_\+t ea)
\begin{DoxyCompactList}\small\item\em H\+ID Out Resport Callback. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{group___c_u_s_b___i_n_t_gafcb560d25a7f9005aad10a8be1af54e7}{hid\+\_\+in\+\_\+report\+\_\+callback}} (usbd\+\_\+device $\ast$dev, uint8\+\_\+t ea)
\begin{DoxyCompactList}\small\item\em H\+ID In Resport Callback. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___c_u_s_b___i_n_t_ga9dd0caa7d41601fb1547f79cdb8c4726}{usb\+\_\+isr}} (void)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
typedef \mbox{\hyperlink{group___c_u_s_b___i_n_t_ga915d267a2bbc20bb20ab02b6fdac8628}{\+\_\+\+\_\+attribute\+\_\+\+\_\+}}
\item 
static usbd\+\_\+device $\ast$ \mbox{\hyperlink{group___c_u_s_b___i_n_t_ga371fec116e56a5c485a09d5dd8cd6c95}{usbd\+\_\+dev}}
\begin{DoxyCompactList}\small\item\em U\+SB device handle. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{group___c_u_s_b___i_n_t_gaa536a7f4d58c4e1734efcfb3b19c1be5}{usb\+\_\+state\+\_\+t}} \mbox{\hyperlink{group___c_u_s_b___i_n_t_ga8aca649ee0d72a13bc76b13e92ffcce2}{usb\+\_\+state}}
\item 
static uint8\+\_\+t \mbox{\hyperlink{group___c_u_s_b___i_n_t_ga3f5c5e68ae07d989114524003357a6f7}{usbd\+\_\+control\+\_\+buffer}} \mbox{[}128\mbox{]}
\begin{DoxyCompactList}\small\item\em Buffer to be used for control requests. \end{DoxyCompactList}\item 
static uint8\+\_\+t \mbox{\hyperlink{group___c_u_s_b___i_n_t_ga6ee0816f9b6ec93390cdf31d4db6e342}{hid\+\_\+report\+\_\+buf}} \mbox{[}\mbox{\hyperlink{group___c_u_s_b___i_n_t_ga4a19877e4f43bf56e85b1e8bbd8b7be5}{H\+I\+D\+\_\+\+R\+E\+P\+O\+R\+T\+\_\+\+S\+I\+ZE}}\mbox{]} = \char`\"{}Default Report Buffer\char`\"{}
\begin{DoxyCompactList}\small\item\em H\+ID Report buffer. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Static Vars, Functions \& Internal Macros. 



\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{group___c_u_s_b___i_n_t_ga4a19877e4f43bf56e85b1e8bbd8b7be5}\label{group___c_u_s_b___i_n_t_ga4a19877e4f43bf56e85b1e8bbd8b7be5}} 
\index{Cusb Internal@{Cusb Internal}!HID\_REPORT\_SIZE@{HID\_REPORT\_SIZE}}
\index{HID\_REPORT\_SIZE@{HID\_REPORT\_SIZE}!Cusb Internal@{Cusb Internal}}
\doxysubsubsection{\texorpdfstring{HID\_REPORT\_SIZE}{HID\_REPORT\_SIZE}}
{\footnotesize\ttfamily \#define H\+I\+D\+\_\+\+R\+E\+P\+O\+R\+T\+\_\+\+S\+I\+ZE~64U}



Definition at line 322 of file cusb.\+c.



\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{group___c_u_s_b___i_n_t_gaa536a7f4d58c4e1734efcfb3b19c1be5}\label{group___c_u_s_b___i_n_t_gaa536a7f4d58c4e1734efcfb3b19c1be5}} 
\index{Cusb Internal@{Cusb Internal}!usb\_state\_t@{usb\_state\_t}}
\index{usb\_state\_t@{usb\_state\_t}!Cusb Internal@{Cusb Internal}}
\doxysubsubsection{\texorpdfstring{usb\_state\_t}{usb\_state\_t}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{group___c_u_s_b___i_n_t_gaa536a7f4d58c4e1734efcfb3b19c1be5}{usb\+\_\+state\+\_\+t}}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{RESET@{RESET}!Cusb Internal@{Cusb Internal}}\index{Cusb Internal@{Cusb Internal}!RESET@{RESET}}}\mbox{\Hypertarget{group___c_u_s_b___i_n_t_ggaa536a7f4d58c4e1734efcfb3b19c1be5a589b7d94a3d91d145720e2fed0eb3a05}\label{group___c_u_s_b___i_n_t_ggaa536a7f4d58c4e1734efcfb3b19c1be5a589b7d94a3d91d145720e2fed0eb3a05}} 
R\+E\+S\+ET&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{CONNECTED@{CONNECTED}!Cusb Internal@{Cusb Internal}}\index{Cusb Internal@{Cusb Internal}!CONNECTED@{CONNECTED}}}\mbox{\Hypertarget{group___c_u_s_b___i_n_t_ggaa536a7f4d58c4e1734efcfb3b19c1be5a7a691a2430ec26878897b5fbc9c22a4c}\label{group___c_u_s_b___i_n_t_ggaa536a7f4d58c4e1734efcfb3b19c1be5a7a691a2430ec26878897b5fbc9c22a4c}} 
C\+O\+N\+N\+E\+C\+T\+ED&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{GET\_LOG@{GET\_LOG}!Cusb Internal@{Cusb Internal}}\index{Cusb Internal@{Cusb Internal}!GET\_LOG@{GET\_LOG}}}\mbox{\Hypertarget{group___c_u_s_b___i_n_t_ggaa536a7f4d58c4e1734efcfb3b19c1be5a00bd4a32df841a2ce24d2a8dbf83179c}\label{group___c_u_s_b___i_n_t_ggaa536a7f4d58c4e1734efcfb3b19c1be5a00bd4a32df841a2ce24d2a8dbf83179c}} 
G\+E\+T\+\_\+\+L\+OG&\\
\hline

\end{DoxyEnumFields}


Definition at line 310 of file cusb.\+c.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{group___c_u_s_b___i_n_t_gac63b9392f307996959131c5a4e047fa4}\label{group___c_u_s_b___i_n_t_gac63b9392f307996959131c5a4e047fa4}} 
\index{Cusb Internal@{Cusb Internal}!cusb\_clock\_init@{cusb\_clock\_init}}
\index{cusb\_clock\_init@{cusb\_clock\_init}!Cusb Internal@{Cusb Internal}}
\doxysubsubsection{\texorpdfstring{cusb\_clock\_init()}{cusb\_clock\_init()}}
{\footnotesize\ttfamily static void cusb\+\_\+clock\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Setup C\+PU and peripheral clocks for usb. 



Definition at line 436 of file cusb.\+c.

\mbox{\Hypertarget{group___c_u_s_b___i_n_t_ga42e69e833b0c711393976debc4593906}\label{group___c_u_s_b___i_n_t_ga42e69e833b0c711393976debc4593906}} 
\index{Cusb Internal@{Cusb Internal}!cusb\_reset\_callback@{cusb\_reset\_callback}}
\index{cusb\_reset\_callback@{cusb\_reset\_callback}!Cusb Internal@{Cusb Internal}}
\doxysubsubsection{\texorpdfstring{cusb\_reset\_callback()}{cusb\_reset\_callback()}}
{\footnotesize\ttfamily static void cusb\+\_\+reset\+\_\+callback (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 490 of file cusb.\+c.

\mbox{\Hypertarget{group___c_u_s_b___i_n_t_ga29b474a495e8084ca9f797e1fcf75eb8}\label{group___c_u_s_b___i_n_t_ga29b474a495e8084ca9f797e1fcf75eb8}} 
\index{Cusb Internal@{Cusb Internal}!hid\_control\_request@{hid\_control\_request}}
\index{hid\_control\_request@{hid\_control\_request}!Cusb Internal@{Cusb Internal}}
\doxysubsubsection{\texorpdfstring{hid\_control\_request()}{hid\_control\_request()}}
{\footnotesize\ttfamily static enum usbd\+\_\+request\+\_\+return\+\_\+codes hid\+\_\+control\+\_\+request (\begin{DoxyParamCaption}\item[{usbd\+\_\+device $\ast$}]{dev,  }\item[{struct usb\+\_\+setup\+\_\+data $\ast$}]{req,  }\item[{uint8\+\_\+t $\ast$$\ast$}]{buf,  }\item[{uint16\+\_\+t $\ast$}]{len,  }\item[{void($\ast$$\ast$)(usbd\+\_\+device $\ast$, struct usb\+\_\+setup\+\_\+data $\ast$)}]{complete }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



H\+ID Control Callback. 

Sends hid report descriptor to host 

Definition at line 495 of file cusb.\+c.

\mbox{\Hypertarget{group___c_u_s_b___i_n_t_gafcb560d25a7f9005aad10a8be1af54e7}\label{group___c_u_s_b___i_n_t_gafcb560d25a7f9005aad10a8be1af54e7}} 
\index{Cusb Internal@{Cusb Internal}!hid\_in\_report\_callback@{hid\_in\_report\_callback}}
\index{hid\_in\_report\_callback@{hid\_in\_report\_callback}!Cusb Internal@{Cusb Internal}}
\doxysubsubsection{\texorpdfstring{hid\_in\_report\_callback()}{hid\_in\_report\_callback()}}
{\footnotesize\ttfamily static void hid\+\_\+in\+\_\+report\+\_\+callback (\begin{DoxyParamCaption}\item[{usbd\+\_\+device $\ast$}]{dev,  }\item[{uint8\+\_\+t}]{ea }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



H\+ID In Resport Callback. 

Called when in report received packet received i.\+e. when usb C\+TR interrupt and transaction type is IN 

Definition at line 530 of file cusb.\+c.

\mbox{\Hypertarget{group___c_u_s_b___i_n_t_ga598f9456a1628aa62a04236cbe363341}\label{group___c_u_s_b___i_n_t_ga598f9456a1628aa62a04236cbe363341}} 
\index{Cusb Internal@{Cusb Internal}!hid\_out\_report\_callback@{hid\_out\_report\_callback}}
\index{hid\_out\_report\_callback@{hid\_out\_report\_callback}!Cusb Internal@{Cusb Internal}}
\doxysubsubsection{\texorpdfstring{hid\_out\_report\_callback()}{hid\_out\_report\_callback()}}
{\footnotesize\ttfamily static void hid\+\_\+out\+\_\+report\+\_\+callback (\begin{DoxyParamCaption}\item[{usbd\+\_\+device $\ast$}]{dev,  }\item[{uint8\+\_\+t}]{ea }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



H\+ID Out Resport Callback. 

Called when out report received packet received i.\+e. when usb C\+TR interrupt received and transaction type is O\+UT 

Definition at line 555 of file cusb.\+c.

\mbox{\Hypertarget{group___c_u_s_b___i_n_t_gaa8a5a4bf8f2341314373f98f386d19ee}\label{group___c_u_s_b___i_n_t_gaa8a5a4bf8f2341314373f98f386d19ee}} 
\index{Cusb Internal@{Cusb Internal}!hid\_set\_config@{hid\_set\_config}}
\index{hid\_set\_config@{hid\_set\_config}!Cusb Internal@{Cusb Internal}}
\doxysubsubsection{\texorpdfstring{hid\_set\_config()}{hid\_set\_config()}}
{\footnotesize\ttfamily static void hid\+\_\+set\+\_\+config (\begin{DoxyParamCaption}\item[{usbd\+\_\+device $\ast$}]{dev,  }\item[{uint16\+\_\+t}]{w\+Value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



H\+ID configuration init callback. 

Called by libopencm3 -\/ usb\+\_\+standard\+\_\+set\+\_\+configuration() to initialize H\+ID configuration
\begin{DoxyItemize}
\item Initializes endpoints, IN (0x01) \& O\+UT (0x81), and sets the IN \& O\+UT transaction callbacks hid\+\_\+report\+\_\+callback()
\item Sets control request callback \mbox{\hyperlink{group___c_u_s_b___i_n_t_ga29b474a495e8084ca9f797e1fcf75eb8}{hid\+\_\+control\+\_\+request()}} which is called by libopencm3 usb\+\_\+control.\+c functions 
\end{DoxyItemize}

Definition at line 495 of file cusb.\+c.

\mbox{\Hypertarget{group___c_u_s_b___i_n_t_ga9dd0caa7d41601fb1547f79cdb8c4726}\label{group___c_u_s_b___i_n_t_ga9dd0caa7d41601fb1547f79cdb8c4726}} 
\index{Cusb Internal@{Cusb Internal}!usb\_isr@{usb\_isr}}
\index{usb\_isr@{usb\_isr}!Cusb Internal@{Cusb Internal}}
\doxysubsubsection{\texorpdfstring{usb\_isr()}{usb\_isr()}}
{\footnotesize\ttfamily void usb\+\_\+isr (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line 580 of file cusb.\+c.



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{group___c_u_s_b___i_n_t_ga915d267a2bbc20bb20ab02b6fdac8628}\label{group___c_u_s_b___i_n_t_ga915d267a2bbc20bb20ab02b6fdac8628}} 
\index{Cusb Internal@{Cusb Internal}!\_\_attribute\_\_@{\_\_attribute\_\_}}
\index{\_\_attribute\_\_@{\_\_attribute\_\_}!Cusb Internal@{Cusb Internal}}
\doxysubsubsection{\texorpdfstring{\_\_attribute\_\_}{\_\_attribute\_\_}}
{\footnotesize\ttfamily typedef \+\_\+\+\_\+attribute\+\_\+\+\_\+}

\mbox{\Hypertarget{group___c_u_s_b___i_n_t_ga6ee0816f9b6ec93390cdf31d4db6e342}\label{group___c_u_s_b___i_n_t_ga6ee0816f9b6ec93390cdf31d4db6e342}} 
\index{Cusb Internal@{Cusb Internal}!hid\_report\_buf@{hid\_report\_buf}}
\index{hid\_report\_buf@{hid\_report\_buf}!Cusb Internal@{Cusb Internal}}
\doxysubsubsection{\texorpdfstring{hid\_report\_buf}{hid\_report\_buf}}
{\footnotesize\ttfamily uint8\+\_\+t hid\+\_\+report\+\_\+buf\mbox{[}\mbox{\hyperlink{group___c_u_s_b___i_n_t_ga4a19877e4f43bf56e85b1e8bbd8b7be5}{H\+I\+D\+\_\+\+R\+E\+P\+O\+R\+T\+\_\+\+S\+I\+ZE}}\mbox{]} = \char`\"{}Default Report Buffer\char`\"{}\hspace{0.3cm}{\ttfamily [static]}}



H\+ID Report buffer. 

Buffer used for all H\+ID in \& out transactions 

Definition at line 327 of file cusb.\+c.

\mbox{\Hypertarget{group___c_u_s_b___i_n_t_ga8aca649ee0d72a13bc76b13e92ffcce2}\label{group___c_u_s_b___i_n_t_ga8aca649ee0d72a13bc76b13e92ffcce2}} 
\index{Cusb Internal@{Cusb Internal}!usb\_state@{usb\_state}}
\index{usb\_state@{usb\_state}!Cusb Internal@{Cusb Internal}}
\doxysubsubsection{\texorpdfstring{usb\_state}{usb\_state}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___c_u_s_b___i_n_t_gaa536a7f4d58c4e1734efcfb3b19c1be5}{usb\+\_\+state\+\_\+t}} usb\+\_\+state\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 317 of file cusb.\+c.

\mbox{\Hypertarget{group___c_u_s_b___i_n_t_ga3f5c5e68ae07d989114524003357a6f7}\label{group___c_u_s_b___i_n_t_ga3f5c5e68ae07d989114524003357a6f7}} 
\index{Cusb Internal@{Cusb Internal}!usbd\_control\_buffer@{usbd\_control\_buffer}}
\index{usbd\_control\_buffer@{usbd\_control\_buffer}!Cusb Internal@{Cusb Internal}}
\doxysubsubsection{\texorpdfstring{usbd\_control\_buffer}{usbd\_control\_buffer}}
{\footnotesize\ttfamily uint8\+\_\+t usbd\+\_\+control\+\_\+buffer\mbox{[}128\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}



Buffer to be used for control requests. 



Definition at line 320 of file cusb.\+c.

\mbox{\Hypertarget{group___c_u_s_b___i_n_t_ga371fec116e56a5c485a09d5dd8cd6c95}\label{group___c_u_s_b___i_n_t_ga371fec116e56a5c485a09d5dd8cd6c95}} 
\index{Cusb Internal@{Cusb Internal}!usbd\_dev@{usbd\_dev}}
\index{usbd\_dev@{usbd\_dev}!Cusb Internal@{Cusb Internal}}
\doxysubsubsection{\texorpdfstring{usbd\_dev}{usbd\_dev}}
{\footnotesize\ttfamily usbd\+\_\+device$\ast$ usbd\+\_\+dev\hspace{0.3cm}{\ttfamily [static]}}



U\+SB device handle. 



Definition at line 308 of file cusb.\+c.

